<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Poke Guesser</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="icon"
      href="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png"
    />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5736331933387196"
     crossorigin="anonymous"></script>
  </head>
  <body>
    <header id="app-header">
      <button id="logo-home" class="logo" type="button" aria-label="HOMEへ戻る">
        Poke <span class="logo-accent">Guesser</span>
      </button>
      <button id="hamburger-menu" aria-label="メニューを開く">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav id="nav-menu">
        <div class="header-buttons">
          <button class="header-button" id="home-button">HOMEへ</button>
          <button class="header-button" id="settings-button">設定</button>
          <button class="header-button" id="how-to-play-button">モード説明</button>
          <button class="header-button" id="updates-button" type="button">更新情報</button>
        </div>
      </nav>
    </header>

    <div id="theme-container">
      <main id="main-content">
        <div id="mode-selection-screen">
          <!-- <h2 id="selection-title">モードを選んでください</h2> -->
          <div class="home-top-layout">
            <div class="home-mode-column">
              <div class="mode-selection-container">
                <button class="mode-button random-button" id="random-start-mode-button">
                  <h3>ノーマルモード</h3>
                </button>
                <button class="mode-button stats-button" id="base-stats-mode-button">
                  <h3>種族値モード</h3>
                </button>
                <button class="mode-button versus-button" id="versus-mode-button">
                  <h3>対戦モード</h3>
                </button>
              </div>

              <div class="sub-buttons-container">
                <button class="sub-button" id="how-to-play-button-home">モード説明</button>
                <button class="sub-button" id="settings-button-home">設定</button>
              </div>
            </div>

            <section id="updates-section" class="updates-section" aria-labelledby="updates-title">
              <h3 id="updates-title">更新情報</h3>
              <p id="updates-intro">サイトの最新アップデートをお知らせします</p>
              <div class="updates-list">
                <article class="updates-item">
                  <time class="updates-date" datetime="2025-12-22">
                    <span class="updates-year">2025</span>
                    <span class="updates-md">12 / 22</span>
                  </time>
                  <p class="updates-body">
                    Poke Guesserを正式に公開いたしました。
                    本サイトは、ポケモンを題材とした推測ゲームとして、基本機能を実装した状態での公開となります。
                  </p>
                </article>

                <article class="updates-item">
                  <time class="updates-date" datetime="2025-12-28">
                    <span class="updates-year">2025</span>
                    <span class="updates-md">12 / 28</span>
                  </time>
                  <p class="updates-body">
                    トップページのUIを見直し、モード選択までの導線を整理いたしました。
                    スマートフォンおよびタブレット表示におけるレイアウト崩れ、文字サイズや余白の不統一を修正し、モバイル端末でも直感的に操作できるよう改善しております。
                  </p>
                </article>

                <article class="updates-item">
                  <time class="updates-date" datetime="2026-01-13">
                    <span class="updates-year">2026</span>
                    <span class="updates-md">01 / 13</span>
                  </time>
                  <p class="updates-body">
                  トップページに「更新情報」「Poke Guesserとは」「このサイトについて」を追加しました。サイト全体の構成を整理し、利用目的や内容が分かりやすくなるよう改善しています。
                  </p>
                </article>

                <article class="updates-item">
                  <time class="updates-date" datetime="2026-01-20">
                    <span class="updates-year">2026</span>
                    <span class="updates-md">01 / 20</span>
                  </time>
                  <p class="updates-body">
                  フッターに「プライバシーポリシー」「コンタクト」ページを追加しました。運営情報およびお問い合わせ導線を明確化し、安心してご利用いただける環境を整備しています。
                  </p>
                </article>
              </div>
            </section>
          </div>

          <section id="about-pokeguesser-section" class="about-section">
            <h3 id="about-pokeguesser-title">Poke Guesserとは</h3>

            <p>
              Poke Guesserは、さまざまなヒントを手がかりに<strong>ターゲットとなるポケモンを推測するゲーム</strong>です。<br>
              回答するたびに表示される色付きのヒントや数値の大小関係を活用し、正解を目指しましょう。
            </p>

            <h3 class="home-title">ヒントの見方</h3>
            <ul class="home-bullets">
              <li>🟩 <strong>緑</strong>：完全一致</li>
              <li>🟨 <strong>黄</strong>：部分一致</li>
              <li>⬜ <strong>灰</strong>：不一致</li>
            </ul>

            <p>
              高さ・重さ・合計種族値など、数値で表される項目については、
              <strong>矢印アイコン（▲ / ▼）</strong> によって正解値の方向が示されます。
            </p>
            <ul class="home-bullets">
              <li>▲：正解値の方が大きい</li>
              <li>▼：正解値の方が小さい</li>
            </ul>

            <h3 class="home-title">各比較項目の判定ルール</h3>

            <p class="home-subtitle">初登場作品（世代）</p>
            <ul class="home-bullets">
              <li>🟩 緑：初登場作品・世代ともに一致</li>
              <li>🟨 黄：世代のみ一致</li>
              <li>⬜ 灰：世代が不一致</li>
            </ul>
            <p>※数値比較（▲ / ▼）も表示されます。</p>

            <p class="home-subtitle">タイプ / 特性 / タマゴグループ</p>
            <ul class="home-bullets">
              <li>🟩 緑：完全一致</li>
              <li>🟨 黄：部分一致</li>
              <li>⬜ 灰：不一致</li>
            </ul>

            <p class="home-subtitle">合計種族値・高さ・重さ</p>
            <ul class="home-bullets">
              <li>🟩 緑：完全一致</li>
              <li>⬜ 灰：不一致</li>
            </ul>
            <p>※数値比較（▲ / ▼）も表示されます。</p>

            <p class="home-subtitle">性別比・進化数</p>
            <ul class="home-bullets">
              <li>🟩 緑：完全一致</li>
              <li>⬜ 灰：不一致</li>
            </ul>

            <p>※作品略称の例：RG / 剣盾 / ZA など</p>

            <h3 class="home-title">遊び方のコツ</h3>
            <p>
              すべての条件を一度で満たす必要はありません。<br>
              まずは<strong>情報量の多いポケモン</strong>を入力し、得られたヒントをもとに
              候補を少しずつ絞り込んでいくのが、Poke Guesserの基本的な遊び方です。
            </p>

            <h3 class="home-title">出題範囲</h3>
            <ul class="home-bullets">
              <li>全国図鑑 No.1–1025 のポケモン（※一部フォルム違いを含む）</li>
              <li>メガシンカポケモン</li>
            </ul>
            <p>※設定画面から、<strong>初登場作品による出題範囲の絞り込み</strong>が可能です。</p>
          </section>


          <section id="about-site-section" class="about-section">
            <h3>このサイトについて</h3>

            <p>
              このサイトでは、ポケモンに関する情報をもとにしたゲームを、
              ブラウザ上で遊ぶことができます。<br>
              ポケモンのステータスなどの要素を使い、
              直感的に楽しめるゲーム体験を提供することを目的としています。
            </p>

            <p>
              当サイトは、任天堂、株式会社ポケモンおよび関係各社とは一切関係のない、
              非公式のファンサイトです。
            </p>

            <p class="note">
              ポケットモンスター・ポケモン・Pokémon は,
              任天堂・株式会社クリーチャーズ・株式会社ゲームフリークの
              登録商標です。
            </p>
          </section>
        </div>

        <div id="settings-screen" class="hidden">
          <h2 id="settings-title">出題範囲の設定</h2>
          <p class="settings-description">
            出題候補に含めたい作品名にチェックを入れてください
          </p>
          <p class="settings-description-subtle">  
            ※未選択の場合はすべてのタイトルが対象になります
          </p>
          <div class="settings-actions">
            <button id="settings-select-all" type="button" class="sub-button">すべて選択</button>
            <button id="settings-clear-all" type="button" class="sub-button subtle">すべて解除</button>
          </div>
          <div id="settings-selection-summary" class="settings-summary"></div>
          <div id="settings-options" class="settings-option-container"></div>
          <div class="settings-footer">
            <button class="action-button" id="settings-save-button" type="button">保存して戻る</button>
            <button class="action-button secondary" id="settings-cancel-button" type="button">キャンセル</button>
          </div>
        </div>

        <div id="game-container" class="hidden">
          <div id="game-header-area">
            <div id="game-info-area">
              <h2 id="game-title"></h2>
            </div>
            <div id="game-meta-area">
              <div id="game-status"></div>
              <div id="turns-remaining" class="hidden" aria-live="polite"></div>
            </div>

            <button id="hint-button" class="hint-button hidden" type="button">ヒント</button>
            
            <div id="game-controls">
              <button id="random-start-button" class="action-button hidden">スタート</button>

              <div id="input-area">
                <input
                  id="guess-input"
                  type="text"
                  autocomplete="off"
                  placeholder="ポケモンのなまえを入力"
                />
                <button id="guess-button" class="guess-button">GUESS</button>
              </div>

              <div id="suggestions-box" class="hidden"></div>
            </div>
          </div>

          <div id="results-area">
            <div id="result-history"></div>
          </div>

          <div id="versus-skill-bar" class="hidden" aria-live="polite">
            <button class="versus-skill-button" data-skill="mask" type="button" title="このターンの回答を相手には『?』で表示します">秘匿回答</button>
            <button class="versus-skill-button" data-skill="extra" type="button" title="このターンの次も自分の番になります">連続ターン</button>
            <button class="versus-skill-button" data-skill="hint" type="button" title="ヒントを1つ確認します">ヒント確認</button>
            <!-- <button class="versus-skill-button" data-skill="hide" type="button" title="相手の履歴を一時的に非表示にします">履歴隠し</button> -->
          </div>

          <div id="post-game-actions" class="hidden">
            <button class="action-button" id="post-game-play-again">もう一度遊ぶ</button>
            <button class="action-button" id="post-game-back-to-menu">モード選択へ</button>
          </div>
        </div>

        <div id="privacy-screen" class="hidden info-screen" aria-labelledby="privacy-title">
          <h2 id="privacy-title">Privacy Policy（プライバシーポリシー）</h2>
          <div class="info-content">
            <p>
              本プライバシーポリシーは、本サイト（以下「当サイト」）における、ユーザー情報の取扱いについて定めるものです。
            </p>
            <h3>1. 取得する情報について</h3>
            <p>当サイトでは、以下の情報を取得・利用する場合があります。</p>
            <ul class="bullets">
              <li>ゲーム設定や表示状態などの情報（localStorage を使用）</li>
              <li>広告配信およびアクセス解析に伴い自動的に取得される情報</li>
              <li>お問い合わせ時に入力された情報（Googleフォームを通じて提供されたもの）</li>
            </ul>
            <p>これらの情報から、個人を特定することはありません。</p>
            <h3>2. 広告配信について</h3>
            <p>
              当サイトでは、第三者配信の広告サービス「Google AdSense」を利用しています。
              Google を含む第三者配信事業者は、Cookie を使用して、ユーザーの興味に応じた広告を表示することがあります。
              Cookie を使用することで、当サイトや他サイトへのアクセス情報に基づいた広告が配信される場合があります。
              ユーザーは、以下のページでパーソナライズ広告を無効にすることができます。
            </p>
            <p>
              <a href="https://adssettings.google.com/" target="_blank" rel="noopener noreferrer">
                https://adssettings.google.com/
              </a>
            </p>
            <h3>3. アクセス解析・データ保存について</h3>
            <p>
              当サイトでは、サービス提供および不正防止、機能改善を目的として、Google Firebase を利用しています。
              Firebase により、匿名認証情報や利用状況に関するデータが保存・処理される場合がありますが、個人を特定する目的では利用していません。
            </p>
            <h3>4. 利用目的</h3>
            <ul class="bullets">
              <li>ゲーム機能の提供・維持</li>
              <li>利便性や品質向上のための改善</li>
              <li>不正利用の防止</li>
              <li>お問い合わせへの対応</li>
            </ul>
            <h3>5. 第三者提供について</h3>
            <p>法令に基づく場合を除き、取得した情報を第三者に提供することはありません。</p>
            <h3>6. 免責事項</h3>
            <p>
              当サイトに掲載されている情報や機能について、その正確性・安全性を保証するものではありません。
              当サイトの利用によって生じた損害等について、運営者は一切の責任を負いません。
            </p>
            <h3>7. プライバシーポリシーの変更</h3>
            <p>本ポリシーの内容は、必要に応じて予告なく変更されることがあります。</p>
            <h3>8. お問い合わせ</h3>
            <p>当サイトに関するお問い合わせは、以下よりご連絡ください。</p>
            <ul class="bullets">
              <li>Googleフォーム</li>
              <li>X（旧Twitter）アカウント</li>
            </ul>
          </div>
          <div class="info-footer">
            <button class="action-button" type="button" data-info-back>ホームへ戻る</button>
          </div>
        </div>

        <div id="terms-screen" class="hidden info-screen" aria-labelledby="terms-title">
          <h2 id="terms-title">Terms of Service（利用規約）</h2>
          <div class="info-content">
            <p>
              本利用規約は、本サイト（以下「当サイト」）の利用条件を定めるものです。
              ユーザーは、当サイトを利用することで、本規約に同意したものとみなされます。
            </p>
            <h3>1. サービス内容</h3>
            <p>
              当サイトは、ブラウザ上でゲームを提供する非公式のファンサイトです。
              提供する機能や内容は、予告なく変更・停止される場合があります。
            </p>
            <h3>2. 禁止事項</h3>
            <ul class="bullets">
              <li>当サイトの運営を妨害する行為</li>
              <li>不正アクセスやデータ改ざん等の不正行為</li>
              <li>法令または公序良俗に反する行為</li>
            </ul>
            <h3>3. 免責事項</h3>
            <p>
              当サイトに掲載されている情報や機能について、その正確性・完全性・有用性を保証するものではありません。
              当サイトの利用により生じた損害について、運営者は一切の責任を負いません。
            </p>
            <h3>4. 規約の変更</h3>
            <p>本規約の内容は、必要に応じて予告なく変更されることがあります。</p>
          </div>
          <div class="info-footer">
            <button class="action-button" type="button" data-info-back>ホームへ戻る</button>
          </div>
        </div>

        <div id="contact-screen" class="hidden info-screen" aria-labelledby="contact-title">
          <h2 id="contact-title">Contact（お問い合わせ）</h2>
          <div class="info-content">
            <p>お問い合わせは、以下のいずれかの窓口からご連絡ください。</p>
            <ul class="bullets">
              <li>
                Googleフォーム：
                <a id="contact-form-link" href="#" target="_blank" rel="noopener noreferrer">フォームはこちら</a>
              </li>
              <li>
                X（旧Twitter）：
                <a id="contact-x-link" href="#" target="_blank" rel="noopener noreferrer">公式アカウントはこちら</a>
              </li>
            </ul>
            <p class="note">Googleフォームを優先してご案内しています。</p>
          </div>
          <div class="info-footer">
            <button class="action-button" type="button" data-info-back>ホームへ戻る</button>
          </div>
        </div>

        <div id="credits-screen" class="hidden info-screen" aria-labelledby="credits-title">
          <h2 id="credits-title">Credits（クレジット）</h2>
          <div class="info-content">
            <ul class="bullets">
              <li>Pokémon © Nintendo / Creatures Inc. / GAME FREAK inc.</li>
              <li>
                This website is a fan-made project and is not affiliated with or endorsed by Nintendo,
                Creatures Inc., or GAME FREAK inc.
              </li>
            </ul>
          </div>
          <div class="info-footer">
            <button class="action-button" type="button" data-info-back>ホームへ戻る</button>
          </div>
        </div>
        <footer id="site-footer">
          <div class="footer-links">
            <a class="footer-link" href="#" data-info-screen="privacy-screen">Privacy</a>
            <span class="footer-sep">｜</span>
            <a class="footer-link" href="#" data-info-screen="terms-screen">Terms</a>
            <span class="footer-sep">｜</span>
            <a class="footer-link" href="#" data-info-screen="contact-screen">Contact</a>
            <span class="footer-sep">｜</span>
            <a class="footer-link" href="#" data-info-screen="credits-screen">Credits</a>
          </div>
        </footer>
      </main>
    </div>

    <div id="modal-overlay" class="hidden">
      <div id="modal">
        <button id="modal-close-button">×</button>
        <div id="modal-content"></div>
      </div>
    </div>

    <div id="result-modal-overlay" class="hidden">
      <div id="result-modal">
        <button id="result-modal-close-button" class="modal-close-button">×</button>

        <h1 id="result-modal-verdict">
          <img
            id="verdict-cracker-img-left"
            class="verdict-cracker-img left"
            src="img/cracker.png"
            alt="cracker" />
          <span></span>
          <img
            id="verdict-cracker-img-right"
            class="verdict-cracker-img right"
            src="img/cracker.png"
            alt="cracker"
          />
        </h1>

        <p id="result-modal-score" class="result-score-text"></p>

        <div id="result-modal-profile">
          <div class="profile-header">
            <div class="sprite-container">
              <img data-field="sprite" src="" alt="pokemon-sprite" />
            </div>
            <div class="name-number-wrapper">
              <div class="national-no-display" data-field="nationalNo"></div>
              <h2 class="pokemon-name-display">
                <span data-field="name"></span>
                <span class="form-name" data-field="form"></span>
              </h2>
            </div>
          </div>

          <div class="profile-content-wrapper">
            <div class="profile-left"></div>
            <div class="profile-right"></div>
          </div>
        </div>
        <div id="result-modal-hints" class="result-hints">
          <p class="result-hints-label">使用したヒント：</p>
          <p class="result-hints-list"></p>
        </div>
      </div>
    </div>

    <!-- Hint Modal -->
    <div id="hint-modal-overlay" class="hidden" role="dialog" aria-modal="true" aria-labelledby="hint-modal-title">
      <div id="hint-modal">
        <button id="hint-modal-close-button" class="modal-close-button" type="button">×</button>
        <h2 id="hint-modal-title">ヒント</h2>
        <p id="hint-modal-description">確認する項目を選択してください</p>
        <div id="hint-modal-options" role="listbox"></div>
        <div id="hint-modal-result" class="hidden" aria-live="polite">
          <p class="hint-selected-label"></p>
          <p class="hint-selected-value"></p>
        </div>
      </div>
    </div>

    <script>
      window.FIREBASE_CONFIG = {
          apiKey: "AIzaSyC3MFZCk5VdYU8FNx9XoqEZFOpDOJ9FWr0",
          authDomain: "poke-guesser-0805.firebaseapp.com",
          databaseURL: "https://poke-guesser-0805-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "poke-guesser-0805",
          storageBucket: "poke-guesser-0805.firebasestorage.app",
          messagingSenderId: "1098407280597",
          appId: "1:1098407280597:web:ede660fe64f1fb5ad2475c"
        };
    </script>
    <script type="module" src="js/main.js"></script>
        <div class="footer-copy">
          © 2026 Poke Guesser
        </div>
  </body>
</html>
